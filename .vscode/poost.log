From 122b62b4078e59eeb5804c9f252443aee7323f31 Mon Sep 17 00:00:00 2001
From: Joseph King <kingjoseph223@gmail.com>
Date: Thu, 7 Nov 2019 01:52:35 -0500
Subject: [PATCH] GrapeKoolaidMF

---
 GrapeKoolaidMF | 52 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 52 insertions(+)
 create mode 100644 GrapeKoolaidMF

diff --git a/GrapeKoolaidMF b/GrapeKoolaidMF
new file mode 100644
index 0000000..5499cb4
--- /dev/null
+++ b/GrapeKoolaidMF
@@ -0,0 +1,52 @@
+#! /bin/bash
+
+DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
+
+while ! psql -U stellar -c 'select 1' horizon &> /dev/null ; do
+  echo "Waiting for postgres to be available..."
+  sleep 1
+done
+
+while ! stellar-core --conf /opt/stellar/core/etc/stellar-core.cfg http-command info &> /dev/null ; do
+  echo "Waiting for stellar-core to be available..."
+  sleep 1
+done
+
+echo "starting horizon..."
+set -e
+exec $DIR/horizon
+ENV HORIZON_VERSION 0.18.0
+
+EXPOSE 5432
+EXPOSE 8000
+EXPOSE 11625
+EXPOSE 11626
+
+ADD dependencies /
+RUN ["chmod", "+x", "dependencies"]
+RUN /dependencies
+
+ADD install /
+RUN ["chmod", "+x", "install"]
+RUN /install
+
+RUN ["mkdir", "-p", "/opt/stellar"]
+RUN ["touch", "/opt/stellar/.docker-ephemeral"]
+
+RUN useradd --uid 10011001 --home-dir /home/stellar --no-log-init stellar \
+    && mkdir -p /home/stellar \
+    && chown -R stellar:stellar /home/stellar
+
+RUN ["ln", "-s", "/opt/stellar", "/stellar"]
+RUN ["ln", "-s", "/opt/stellar/core/etc/stellar-core.cfg", "/stellar-core.cfg"]
+RUN ["ln", "-s", "/opt/stellar/horizon/etc/horizon.env", "/horizon.env"]
+ADD common /opt/stellar-default/common
+ADD pubnet /opt/stellar-default/pubnet
+ADD testnet /opt/stellar-default/testnet
+ADD standalone /opt/stellar-default/standalone
+
+
+ADD start /
+RUN ["chmod", "+x", "start"]
+
+ENTRYPOINT ["/init", "--", "/start" ]
--
Working Copy 3.9.6